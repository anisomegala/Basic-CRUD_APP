<% layout('layouts/boilerplate')  %>
<h1 class="headings">Update Product</h1>
    <div class="products">
        <form class="my-3 mx-3 row validation" action="/products/<%=product._id%>?_method=PUT" method="POST"  novalidate>
            <div class="row mb-3">
                <label class="col-sm-2 col-form-label col-form-label-sm" for="name">Product Name</label>
                <div class="col-sm-10">
                    <input  class="form-control" id="name" type="text" name="name" placeholder="Update Product" value="<%= product.name%>" required>
                    <div class="valid-feedback">
                        Ok!
                    </div>
                    <div class="invalid-feedback">
                        Entry product name.
                    </div>
                </div>
            </div>
            <div class="row mb-3">
                <label class="col-sm-3 col-form-label col-form-label-sm" for="price">Price</label>
                <div class="col-sm-9">
                    <input  class="form-control"   id="price" type="text" name="price" placeholder="Edit Price" value="<%= product.price%>" required>
                    <div class="valid-feedback">
                        Ok!
                    </div>
                    <div class="invalid-feedback">
                        Entry product price.
                    </div>
                </div>
            </div>
            <div class="row mb-3">
                <label  class="col-sm-4 col-form-label col-form-label-sm" for="category">Categories</label>
                <div class="col-sm-8">
                    <select  class="form-select" id="category" name="category" id="category" required>
                        <% for(let category of categories) { %>
                            <option value="<%=category%>" <%=product.category === category ? 'selected' : '' %> ><%=category%></option>
                    <% } %> 
                    </select>
                    <div class="valid-feedback">
                        Ok!
                    </div>
                    <div class="invalid-feedback">
                        Entry category.
                    </div>
                </div>
            </div>
            <div class="col-auto">
                <button class="btn btn-primary">Update</button>
            </div>
        </form>
        <div class="col-12 m-2 text-center">
            <a  class="text-dark" href="/products/<%= product._id%>">Cancel</a>
        </div>
    </div>
